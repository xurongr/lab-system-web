webpackJsonp([15],{213:function(e,t,a){"use strict";function s(e){u||a(290)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(287),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var o=a(292),c=a.n(o),u=!1,l=a(6),d=s,h=l(r.a,c.a,!1,d,"data-v-9d4a527e",null);h.options.__file="src/views/teamManagement/eliteManagement.vue",t.default=h.exports},272:function(e,t,a){"use strict";function s(e,t){for(var a=0;a<e.length;a++)if(e[a].userId===t.userId)return a;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{isRadio:{type:Boolean,default:!1},url:{type:String,default:""},checkedData:{type:Array,default:function(){return[]}}},data:function(){return{checked:[],userList:[],search:"",resList:[],redio:""}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/"+this.url,method:"get"}).then(function(t){0===t.data.retCode&&t.data.data&&(e.userList=t.data.data)}).catch(function(e){})},checkChange:function(e){var t=this,a=[];e.forEach(function(e){a.push(t.resList[e])}),this.$emit("val",a)},radioChange:function(e){this.$emit("val",this.resList[e])},searchUser:function(){for(var e=this.userList,t=[],a=new RegExp(this.search),s=0;s<e.length;s++)(e[s].userName&&e[s].userName.match(a)||e[s].userPhone&&e[s].userPhone.match(a))&&t.push(e[s]);this.resList=t,this.checkedChange()},delChecked:function(e){this.checked.splice(e,1)},checkedChange:function(){var e=this;this.checked=[],this.checkedData.forEach(function(t){var a=s(e.resList,t);a>-1&&e.checked.push(a)})}}}},274:function(e,t,a){"use strict";function s(e){u||a(275)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(272),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var o=a(277),c=a.n(o),u=!1,l=a(6),d=s,h=l(r.a,c.a,!1,d,"data-v-1ea60565",null);h.options.__file="src/views/my-components/searchUser.vue",t.default=h.exports},275:function(e,t,a){var s=a(276);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(14)("57d962f4",s,!1,{})},276:function(e,t,a){t=e.exports=a(13)(!1),t.push([e.i,"\n.res-list[data-v-1ea60565] {\n  width: 300px;\n  height: 200px;\n  overflow-y: auto;\n  border: 1px solid #dddee1;\n  margin-top: 10px;\n  padding: 10px;\n}\n",""])},277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.searchUser}},[e._v("搜索")]),e._v(" "),a("div",{staticClass:"res-list"},[e.isRadio?a("RadioGroup",{on:{"on-change":e.radioChange},model:{value:e.redio,callback:function(t){e.redio=t},expression:"redio"}},e._l(e.resList,function(t,s){return a("p",{key:s},[a("Radio",{attrs:{label:s}},[e._v(e._s(t.userName+"  ("+t.userPhone+")"))])],1)})):a("CheckboxGroup",{on:{"on-change":e.checkChange},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},e._l(e.resList,function(t,s){return a("p",{key:s},[a("Checkbox",{attrs:{label:s}},[e._v(e._s(t.userName+"   ("+t.userPhone+")"))])],1)}))],1)],1)},n=[];s._withStripped=!0;var r={render:s,staticRenderFns:n};t.default=r},287:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(274),n=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={data:function(){var e=this;return{addModal:!1,form:{},selectedList:[],query:{groupType:2,pageNo:0,pageSize:10},total:0,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"成员名称",key:"userName"},{title:"手机号码",key:"phone"},{title:"创建时间",key:"createTime",render:function(t,a){return t("div",[t("p",{},e.formatDate(new Date(a.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"操作",key:"action",width:300,align:"center",render:function(t,a){return t("div",[t("Button",{style:{marginRight:"5px"},on:{click:function(){e.$Modal.confirm({title:"确认移除",content:"确认移除？",onOk:function(){e.delElite(a.row.userId,a.index)}})}}},"移除"),t("Button",{style:{marginRight:"5px"},on:{click:function(){e.moveElite(a.row.userId,"UP")}}},"上移"),t("Button",{on:{click:function(){e.moveElite(a.row.userId,"DOWN")}}},"下移")])}}],tableData:[]}},components:{searchUser:n.default},created:function(){this.getEliteList()},methods:{getEliteList:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/group/elite/page",method:"get",params:this.query}).then(function(t){0===t.data.retCode?(e.tableData=t.data.data.data,e.total=parseInt(t.data.data.total)):e.$Message.warning(t.data.retMsg)}).catch(function(e){})},pageChange:function(e){this.query.pageNo=e-1,this.getEliteList()},moveElite:function(e,t){var a=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/group/elite/move",method:"post",params:{groupType:this.query.groupType,user:e,direction:t}}).then(function(e){0===e.data.retCode?(a.getEliteList(),a.$Message.success(e.data.retMsg)):a.$Message.warning(e.data.retMsg)}).catch(function(e){})},delElite:function(e,t){var a=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/group/elite/remove",method:"post",params:{groupType:this.query.groupType,user:e}}).then(function(e){0===e.data.retCode?(a.tableData.splice(t,1),a.$Message.success("移除成功！")):a.$Message.warning(e.data.retMsg)}).catch(function(e){})},delItem:function(e){this.$refs.searchUser.delChecked(e),this.selectedList.splice(e,1)},addElite:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/group/elite/add",method:"post",params:{groupType:this.query.groupType},data:this.form}).then(function(t){0===t.data.retCode?(e.$Message.success("成员新增成功！"),e.getEliteList()):e.$Message.warning(t.data.retMsg)}).catch(function(e){})},getMemberList:function(e){var t=this;this.selectedList=e,this.selectedList.forEach(function(e){t.form[e.userId]=e.userName})},selectChange:function(){this.getEliteList()}}}},290:function(e,t,a){var s=a(291);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(14)("15985786",s,!1,{})},291:function(e,t,a){t=e.exports=a(13)(!1),t.push([e.i,"\n.selected-item[data-v-9d4a527e] {\n  position: relative;\n  display: inline-block;\n}\n.selected-item .del-item[data-v-9d4a527e] {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  z-index: 99;\n  font-size: 20px;\n  cursor: pointer;\n}\n",""])},292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-body"},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("Col",{attrs:{span:"20"}},[a("Select",{staticStyle:{width:"200px"},on:{"on-change":e.selectChange},model:{value:e.query.groupType,callback:function(t){e.$set(e.query,"groupType",t)},expression:"query.groupType"}},[a("Option",{attrs:{value:2}},[e._v("团队明星")]),e._v(" "),a("Option",{attrs:{value:3}},[e._v("金牌讲师")]),e._v(" "),a("Option",{attrs:{value:4}},[e._v("精英排行")])],1)],1),e._v(" "),a("Col",{staticClass:"cc-text-right",attrs:{span:"4"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.addModal=!0}}},[e._v("添加精英")])],1)],1),e._v(" "),a("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:e.table,data:e.tableData}}),e._v(" "),a("Page",{staticClass:"cc-m-t-20",attrs:{total:e.total},on:{"on-change":e.pageChange}}),e._v(" "),a("Modal",{attrs:{title:"添加精英"},on:{"on-ok":e.addElite},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("Form",{staticClass:"cc-m-t-10",attrs:{model:e.form,"label-width":80}},[a("FormItem",{attrs:{label:"成员选择"}},[a("searchUser",{key:e.addModal,ref:"searchUser",attrs:{url:"mgt/user/group/list?groupType="+e.query.groupType},on:{val:e.getMemberList}})],1),e._v(" "),a("FormItem",{attrs:{label:"已选成员"}},e._l(e.selectedList,function(t,s){return a("div",{key:s,staticClass:"cc-m-b-10"},[a("div",{staticClass:"selected-item"},[a("Icon",{staticClass:"del-item",attrs:{type:"close-circled"},nativeOn:{click:function(t){e.delItem(s)}}}),e._v(" "),a("Input",{staticClass:"cc-w-150",attrs:{placeholder:"",readonly:""},model:{value:t.userName,callback:function(a){e.$set(t,"userName",a)},expression:"item.userName"}})],1)])}))],1)],1)],1)},n=[];s._withStripped=!0;var r={render:s,staticRenderFns:n};t.default=r}});