webpackJsonp([49],{234:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(330),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var s=a(436),c=a.n(s),u=a(6),o=u(i.a,c.a,!1,null,null,null);o.options.__file="src/views/memberManagement/memberList.vue",e.default=o.exports},330:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{query:{pageNo:0,pageSize:10},total:0,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"姓名",key:"userName"},{title:"手机号码",key:"phone"},{title:"状态",key:"status",render:function(t,e){var a="";switch(e.row.status){case 1:a="可用";break;case 2:a="禁用"}return t("div",[t("p",{},a)])}},{title:"注册时间",key:"createTime",render:function(e,a){return e("div",[e("p",{},t.formatDate(new Date(a.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"操作",key:"action",width:300,align:"center",render:function(e,a){var n="";switch(a.row.status){case 1:n=e("Button",{style:{marginRight:"5px"},on:{click:function(){t.modifyStatus(a.row.id,2,a.index)}}},"禁用");break;case 2:n=e("Button",{style:{marginRight:"5px"},on:{click:function(){t.modifyStatus(a.row.id,1,a.index)}}},"启用")}return e("div",[n,e("Button",{style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:"确认删除",content:"确认删除？",onOk:function(){t.delMember(a.row.id)}})}}},"删除")])}}],tableData:[]}},created:function(){this.getMemberList()},methods:{getMemberList:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/user/list",method:"get",params:this.query}).then(function(e){0===e.data.retCode?(t.tableData=e.data.data.data,t.total=parseInt(e.data.data.total)):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},pageChange:function(t){this.query.pageNo=t-1,this.getMemberList()},modifyStatus:function(t,e,a){var n=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/user/update/status",method:"put",params:{userId:t,status:e}}).then(function(t){0===t.data.retCode?(n.tableData[a].status=e,n.$Message.success(t.data.retMsg||"修改成功！")):n.$Message.warning(t.data.retMsg)}).catch(function(t){})},delMember:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/user/del",method:"get",params:{delUserId:t}}).then(function(t){0===t.data.retCode?(e.getMemberList(),e.$Message.success("删除成功！")):e.$Message.warning(t.data.retMsg)}).catch(function(t){})}}}},436:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-body"},[a("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:t.table,data:t.tableData}}),t._v(" "),a("Page",{staticClass:"cc-m-t-20",attrs:{total:t.total},on:{"on-change":t.pageChange}})],1)},i=[];n._withStripped=!0;var r={render:n,staticRenderFns:i};e.default=r}});