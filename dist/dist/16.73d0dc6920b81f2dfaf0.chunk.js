webpackJsonp([16],{249:function(t,e,a){"use strict";function n(t){c||a(388)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(297),s=a.n(r);for(var i in r)"default"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);var l=a(390),o=a.n(l),c=!1,u=a(9),d=n,p=u(s.a,o.a,!1,d,"data-v-38a6e08c",null);p.options.__file="src/views/operationManagement/uploadBanner.vue",e.default=p.exports},297:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{current:1,pageNo:0,tableData:[],total:0,bannerID:null,bannerInfo:[],iName:"",shopId:"",storeList:[],typeId:1,typeList:[{value:1,label:"首页"}],state:1,stateList:[{value:1,label:"启用"},{value:2,label:"禁用"}],start:!1,table:[{title:"序号",type:"index",align:"center",width:60},{title:"图片名称",align:"center",key:"bannerName"},{title:"创建时间",align:"center",key:"createTime",render:function(e,a){return e("div",[e("p",{},null===a.row.createTime?"":t.formatDate(new Date(a.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"点击图片链接",align:"center",key:"imageLink"},{title:"图片地址",align:"center",key:"imageUrl",render:function(t,e){return t("div",[t("img",{attrs:{src:e.row.imageUrl,style:"width: 40px;height: 40px;border-radius: 2px;"}})])}},{title:"备注",align:"center",key:"remark"},{title:"图片排序",align:"center",key:"sort"},{title:"状态",align:"center",key:"status",render:function(t,e){return t("p",1===e.row.status?"启用":"禁用")}},{title:"类型",align:"center",key:"type",render:function(t,e){return t("p",1===e.row.type?"首页":"其他")}},{title:"更新时间",align:"center",key:"updateTime",render:function(e,a){return e("div",[e("p",{},null===a.row.updateTime?"":t.formatDate(new Date(a.row.updateTime),"yyyy-MM-dd hh:mm"))])}}]}},created:function(){this.getStoreList()},methods:{choiceUser:function(t,e){this.bannerID=t.id,this.bannerInfo=t},changePage:function(t){this.pageNo=t-1,this.getBannerList()},bannerAdd:function(t){1===t?this.$router.push({path:"/addBanner",query:{flag:t}}):null===this.bannerID?this.$Message.warning("请先选择操作对象！"):this.$router.push({path:"/editBanner",query:{flag:t,bannerInfo:this.bannerInfo}})},searchSource:function(){this.pageNo=0,this.getBannerList()},getBannerList:function(){var t=this,e=t.serviceurl+"/herbsfoods/app/getBannerImageList";-1===t.state||t.state;var a={shopId:t.shopId,status:t.state,type:t.typeId};t.$http(e,a,"","get").then(function(e){0===e.data.retCode?t.tableData=e.data.data:t.$Message.warning(e.data.retMsg)}).catch(function(e){t.$Message.error("请求错误")})},operationDelete:function(){var t=this;if(null===t.bannerID)t.$Message.warning("请先选择要删除的轮播！");else{var e=t.serviceurl+"/herbsfoods/admin/bannerImageDelete",a={bannerImageId:t.bannerID};t.$http(e,a,"","get").then(function(e){0===e.data.retCode?(t.$Message.success("轮播删除成功！"),t.getBannerList()):t.$Message.warning(e.data.retMsg)}).catch(function(e){t.$Message.error("请求错误")})}},getStoreList:function(){var t=this,e=this,a=e.serviceurl+"/backstage/shop/pageShop",n={};e.$http(a,n,"","get").then(function(a){0===a.data.retCode?(e.shopId=a.data.data.data[0].id,t.getBannerList(),a.data.data.data.forEach(function(t){var a={value:t.id,label:t.shopName};e.storeList.push(a)})):e.$Message.warning(a.data.retMsg)})}}}},388:function(t,e,a){var n=a(389);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(16)("62fa6416",n,!1,{})},389:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"",""])},390:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cc-m-b-10 member-list-search"},[a("div",{staticClass:"m-search-top"},[a("div",{staticClass:"m-search-top-left"},[a("p",[t._v("\n                    状态   \n                    "),a("Select",{staticStyle:{width:"130px"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.stateList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),a("p",[t._v("\n                    门店   \n                    "),a("Select",{staticStyle:{width:"130px"},model:{value:t.shopId,callback:function(e){t.shopId=e},expression:"shopId"}},t._l(t.storeList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),a("p",[t._v("\n                    页面类型   \n                    "),a("Select",{staticStyle:{width:"130px"},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.typeList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)])]),t._v(" "),a("div",{staticClass:"m-search-btn"},[a("Button",{staticClass:"btn btn-blue",on:{click:t.searchSource}},[t._v("查询")]),t._v(" "),a("Button",{staticClass:"btn btn-blue",on:{click:function(e){return t.bannerAdd(1)}}},[t._v("新增")]),t._v(" "),a("Button",{staticClass:"btn btn-blue",on:{click:function(e){return t.bannerAdd(2)}}},[t._v("编辑")]),t._v(" "),a("Button",{staticClass:"btn btn-blue",on:{click:t.operationDelete}},[t._v("删除")])],1)]),t._v(" "),a("div",{staticClass:"main-body"},[a("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:t.table,data:t.tableData,"highlight-row":!0},on:{"on-row-click":t.choiceUser}}),t._v(" "),a("div",{staticClass:"page"},[a("Page",{key:t.total,staticClass:"cc-m-t-20",attrs:{total:t.total,current:t.current},on:{"on-change":t.changePage}})],1)],1)])},r=[];n._withStripped=!0;var s={render:n,staticRenderFns:r};e.default=s}});