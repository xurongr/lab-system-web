webpackJsonp([34],{236:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(332),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var r=a(438),o=a.n(r),c=a(6),u=c(n.a,o.a,!1,null,null,null);u.options.__file="src/views/teamManagement/teamNotice/teamNotice.vue",e.default=u.exports},332:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{query:{noticeType:0,pageNo:0,pageSize:10},total:0,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"标题",key:"title"},{title:"描述",key:"description"},{title:"类型",key:"noticeType",render:function(t,e){var a="";switch(e.row.noticeType){case 1:a="公告";break;case 2:a="提醒";break;case 3:a="区块链公告"}return t("div",[t("p",{},a)])}},{title:"状态",key:"status",render:function(t,e){var a="";switch(e.row.status){case 1:a="上架";break;case 2:a="下架"}return t("div",[t("p",{},a)])}},{title:"创建时间",key:"createTime",render:function(e,a){return e("div",[e("p",{},t.formatDate(new Date(a.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"操作",key:"action",width:400,align:"center",render:function(e,a){var i="";switch(a.row.status){case 1:i=e("Button",{style:{marginRight:"5px"},on:{click:function(){t.modifyStatus(a.row.id,2,a.index)}}},"下架");break;case 2:i=e("Button",{style:{marginRight:"5px"},on:{click:function(){t.modifyStatus(a.row.id,1,a.index)}}},"上架")}return e("div",[e("Button",{style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"editTeamNotice",query:{notice:a.row.id}})}}},"编辑"),i,e("Button",{style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:"确认删除",content:"确认删除？",onOk:function(){t.delNotice(a.row.id,a.index)}})}}},"删除"),e("Button",{style:{marginRight:"5px"},on:{click:function(){t.moveNotice(a.row.id,"UP")}}},"上移"),e("Button",{on:{click:function(){t.moveNotice(a.row.id,"DOWN")}}},"下移")])}}],tableData:[]}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/notice/page",method:"get",params:this.query}).then(function(e){0===e.data.retCode?(t.tableData=e.data.data.data,t.total=parseInt(e.data.data.total)):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},pageChange:function(t){this.query.pageNo=t-1,this.getNoticeList()},modifyStatus:function(t,e,a){var i=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/notice/modify/status",method:"post",params:{notice:t,status:e}}).then(function(t){0===t.data.retCode?(i.tableData[a].status=e,i.$Message.success(t.data.retMsg)):i.$Message.warning(t.data.retMsg)}).catch(function(t){})},moveNotice:function(t,e){var a=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/notice/move",method:"post",params:{notice:t,direction:e}}).then(function(t){0===t.data.retCode?(a.getNoticeList(),a.$Message.success(t.data.retMsg)):a.$Message.warning(t.data.retMsg)}).catch(function(t){})},delNotice:function(t,e){var a=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/notice/del",method:"post",params:{notice:t}}).then(function(t){0===t.data.retCode?(a.tableData.splice(e,1),a.$Message.success(t.data.retMsg)):a.$Message.warning(t.data.retMsg)}).catch(function(t){})}}}},438:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-body"},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("Col",{attrs:{span:"20"}}),t._v(" "),a("Col",{staticClass:"cc-text-right",attrs:{span:"4"}},[a("router-link",{attrs:{to:{name:"addTeamNotice"}}},[a("Button",{attrs:{type:"primary"}},[t._v("新建")])],1)],1)],1),t._v(" "),a("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:t.table,data:t.tableData}}),t._v(" "),a("Page",{staticClass:"cc-m-t-20",attrs:{total:t.total},on:{"on-change":t.pageChange}})],1)},n=[];i._withStripped=!0;var s={render:i,staticRenderFns:n};e.default=s}});