webpackJsonp([55],{246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(342),s=r.n(a);for(var o in a)"default"!==o&&function(e){r.d(t,e,function(){return a[e]})}(o);var i=r(450),n=r.n(i),c=r(6),l=c(s.a,n.a,!1,null,null,null);l.options.__file="src/views/businessManagement/business.vue",t.default=l.exports},342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this;return{loading:!0,editModal:!1,query:{pageNo:0,pageSize:10,comProId:"",userName:"",proUser:"",type:""},comProId:"",proList:[],form:{comProId:"",type:"",proUser:"",recommUser:"",contactUser:"",grade:"",leftRight:""},rules:{type:[{required:!0,message:"请选择类型",trigger:"change"}],proUser:[{required:!0,message:"项目用户名不能视为空",trigger:"blur"}],contactUser:[{required:!0,message:"接点人不能视为空",trigger:"blur"}],grade:[{required:!0,type:"number",message:"请选择注册星级",trigger:"change"}],leftRight:[{required:!0,message:"请选择位置",trigger:"change"}]},gradeList:[],total:0,current:1,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"团队项目",key:"",render:function(t,r){var a=e.proList.filter(function(t){return t.comProId===e.comProId});if(a.length)return t("div",[t("p",{},a[0].projectName)])}},{title:"用户名",key:"userName"},{title:"联系方式",key:"phone"},{title:"项目用户名",key:"proUser"},{title:"左右区",key:"leftRight",render:function(e,t){var r="";switch(t.row.leftRight){case 0:r="左区";break;case 1:r="右区"}return e("div",[e("p",{},r)])}},{title:"左项目用户名",key:"leftProUser"},{title:"右项目用户名",key:"rightProUser"},{title:"左伞下人数",key:"leftNum"},{title:"右伞下人数",key:"rightNum"},{title:"左单数",key:"leftOrderNum"},{title:"右单数",key:"rightOrderNum"},{title:"推荐人数",key:"recommNum"},{title:"等级名称",key:"gradeName"},{title:"推荐人",key:"recommUser"},{title:"接点人",key:"contactUser"},{title:"金额",key:"money"},{title:"层级",key:"level"},{title:"类型",key:"type",render:function(e,t){var r="";switch(t.row.type){case 1:r="公共点";break;case 2:r="会员提交";break;case 3:r="系统补单"}return e("div",[e("p",{},r)])}},{title:"创建时间",key:"createTime",render:function(t,r){return t("div",[t("p",{},e.formatDate(new Date(r.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"更新时间",key:"updateTime",render:function(t,r){return t("div",[t("p",{},e.formatDate(new Date(r.row.updateTime),"yyyy-MM-dd hh:mm"))])}},{title:"操作",key:"action",width:100,align:"center",render:function(t,r){return t("Button",{style:{marginRight:"5px"},on:{click:function(){e.$router.push({name:"rewardLog",query:{id:r.row.id}})}}},"日志")}}],tableData:[]}},created:function(){this.getproList()},methods:{getproList:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProject/list",method:"get"}).then(function(t){0===t.data.retCode?(e.proList=t.data.data,e.comProId=t.data.data[0].comProId,e.query.comProId=e.comProId,e.form.comProId=e.comProId,e.getBusinessList(),e.getStar()):e.$Message.warning(t.data.retMsg)}).catch(function(e){})},getBusinessList:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProBussiness/page",method:"get",params:this.query}).then(function(t){0===t.data.retCode?(e.tableData=t.data.data.data,e.total=parseInt(t.data.data.total)):e.$Message.warning(t.data.retMsg)}).catch(function(e){})},getStar:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/project/starGrades",method:"get",params:{comTjProId:this.comProId}}).then(function(t){0===t.data.retCode?e.gradeList=t.data.data:e.$Message.warning(t.data.retMsg)}).catch(function(e){})},pageChange:function(e){this.query.pageNo=e-1,this.getBusinessList()},proChange:function(e){this.query.comProId=e,this.form.comProId=e,this.getBusinessList(),this.getStar()},search:function(){this.query.pageNo=0,this.getBusinessList(),this.current=1},add:function(){this.editModal=!0,this.form.recommUser="",this.$refs.form.resetFields()},addConfirm:function(){var e=this;this.$refs.form.validate(function(t){t?e.addPro():(e.loading=!1,setTimeout(function(){e.loading=!0},200))})},addPro:function(){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProBussiness/save",method:"post",data:this.form}).then(function(t){0===t.data.retCode?(e.editModal=!1,e.getBusinessList(),e.$Message.success(t.data.retMsg||"新增成功！")):(e.loading=!1,setTimeout(function(){e.loading=!0},200),e.$Message.warning(t.data.retMsg))}).catch(function(t){e.editModal=!1})}}}},450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-body"},[r("div",{staticClass:"cc-clear-fix"},[r("div",{staticClass:"cc-float-l"},[r("span",[e._v("团队项目：")]),e._v(" "),r("Select",{staticClass:"cc-w-150",on:{"on-change":e.proChange},model:{value:e.comProId,callback:function(t){e.comProId=t},expression:"comProId"}},e._l(e.proList,function(t){return r("Option",{key:t.comProId,attrs:{value:t.comProId}},[e._v(e._s(t.projectName))])}))],1),e._v(" "),r("div",{staticClass:"cc-float-l  cc-m-l-10"},[r("router-link",{attrs:{to:{name:"rewardLog",query:{comProId:e.comProId}}}},[r("Button",{attrs:{type:"primary"}},[e._v("汇总日志")])],1)],1),e._v(" "),r("div",{staticClass:"cc-float-r"},[r("span",[e._v("用户名：")]),e._v(" "),r("Input",{staticClass:"cc-w-150",attrs:{placeholder:""},model:{value:e.query.userName,callback:function(t){e.$set(e.query,"userName",t)},expression:"query.userName"}}),e._v("\n            \n          "),r("span",[e._v("项目用户名：")]),e._v(" "),r("Input",{staticClass:"cc-w-150",attrs:{placeholder:""},model:{value:e.query.proUser,callback:function(t){e.$set(e.query,"proUser",t)},expression:"query.proUser"}}),e._v("\n             \n           "),r("span",[e._v("类型：")]),e._v(" "),r("Select",{staticClass:"cc-w-150",model:{value:e.query.type,callback:function(t){e.$set(e.query,"type",t)},expression:"query.type"}},[r("Option",{attrs:{value:"1"}},[e._v("公共点")]),e._v(" "),r("Option",{attrs:{value:"2"}},[e._v("会员提交")]),e._v(" "),r("Option",{attrs:{value:"3"}},[e._v("系统补单")])],1),e._v("\n             \n          "),r("Button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])],1)]),e._v(" "),r("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:e.table,data:e.tableData}}),e._v(" "),r("Page",{staticClass:"cc-m-t-20",attrs:{total:e.total,current:e.current},on:{"update:current":function(t){e.current=t},"on-change":e.pageChange}}),e._v(" "),r("Modal",{attrs:{title:"新增",loading:e.loading},on:{"on-ok":e.addConfirm},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[r("Form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":120}},[r("FormItem",{attrs:{label:"类型选择：",prop:"type"}},[r("Select",{staticClass:"cc-w-300",model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("Option",{attrs:{value:"1"}},[e._v("公共点")]),e._v(" "),r("Option",{attrs:{value:"3"}},[e._v("系统补单")])],1)],1),e._v(" "),r("FormItem",{attrs:{label:"项目用户名：",prop:"proUser"}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:e.form.proUser,callback:function(t){e.$set(e.form,"proUser",t)},expression:"form.proUser"}})],1),e._v(" "),r("FormItem",{attrs:{label:"推荐人："}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:e.form.recommUser,callback:function(t){e.$set(e.form,"recommUser",t)},expression:"form.recommUser"}})],1),e._v(" "),r("FormItem",{attrs:{label:"接点人：",prop:"contactUser"}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:e.form.contactUser,callback:function(t){e.$set(e.form,"contactUser",t)},expression:"form.contactUser"}})],1),e._v(" "),r("FormItem",{attrs:{label:"注册星级：",prop:"grade"}},[r("Select",{staticClass:"cc-w-300",model:{value:e.form.grade,callback:function(t){e.$set(e.form,"grade",t)},expression:"form.grade"}},e._l(e.gradeList,function(t){return r("Option",{key:t.grade,attrs:{value:t.grade}},[e._v(e._s(t.gradeName))])}))],1),e._v(" "),r("FormItem",{attrs:{label:"位置选择：",prop:"leftRight"}},[r("Select",{staticClass:"cc-w-300",model:{value:e.form.leftRight,callback:function(t){e.$set(e.form,"leftRight",t)},expression:"form.leftRight"}},[r("Option",{attrs:{value:"0"}},[e._v("左区")]),e._v(" "),r("Option",{attrs:{value:"1"}},[e._v("右区")])],1)],1)],1)],1)],1)},s=[];a._withStripped=!0;var o={render:a,staticRenderFns:s};t.default=o}});