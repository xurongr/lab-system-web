webpackJsonp([39],{252:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(348),n=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var i=a(462),c=a.n(i),o=a(6),u=o(n.a,c.a,!1,null,null,null);u.options.__file="src/views/taskManagement/task.vue",e.default=u.exports},348:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{query:{page:0,size:10,title:"",status:""},total:0,current:1,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"任务标题",key:"taskTitle"},{title:"任务描述",key:"taskContent"},{title:"任务发起时间",key:"startTime",render:function(e,a){return e("p",t.formatDate(new Date(a.row.startTime),"yyyy-MM-dd hh:mm"))}},{title:"任务截止时间",key:"endTime",render:function(e,a){return e("p",t.formatDate(new Date(a.row.endTime),"yyyy-MM-dd hh:mm"))}},{title:"任务奖励",key:"awardFee"},{title:"状态",key:"status",render:function(t,e){var a="";switch(e.row.status){case 0:a="未领取";break;case 1:a="进行中";break;case 2:a="待确认";break;case 3:a="已完成";break;case 4:a="未完成";break;case 5:a="下架"}return t("p",a)}},{title:"发起人",key:"launchUser"},{title:"接收人",key:"creatorUser"},{title:"接收人手机号码",key:"creatorUSerPhone"},{title:"操作",key:"action",width:400,align:"center",render:function(e,a){return e("div",[e("Button",{style:{marginRight:"5px",display:2===a.row.status?"inline-block":"none"},on:{click:function(){t.confirm(a.row.taskId,a.index)}}},"确认完成"),e("Button",{style:{marginRight:"5px",display:0!==a.row.sort?"inline-block":"none"},on:{click:function(){t.setTop(a.row.taskId)}}},"设为置顶"),e("Button",{style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"editTask",query:{taskId:a.row.taskId}})}}},"编辑"),e("Button",{style:{marginRight:"5px",display:1===a.row.status?"inline-block":"none"},on:{click:function(){t.soldOut(a.row.taskId)}}},"下架"),e("Button",{style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:"确认删除",content:"确认删除？",onOk:function(){t.delTask(a.row.taskId)}})}}},"删除")])}}],tableData:[]}},created:function(){this.getTaskList()},methods:{getTaskList:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/acti/task/page",method:"get",params:this.query}).then(function(e){0===e.data.retCode?(t.tableData=e.data.data.data,t.total=parseInt(e.data.data.total)):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},confirm:function(t,e){var a=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/acti/task/confirm",method:"get",params:{taskId:t}}).then(function(t){0===t.data.retCode?(a.$set(a.tableData[e],"status",3),a.$Message.success(t.data.retMsg||"操作成功！")):a.$Message.warning(t.data.retMsg||"操作失败！")}).catch(function(t){})},setTop:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/acti/task/setTop",method:"get",params:{taskId:t}}).then(function(t){0===t.data.retCode?e.$Message.success(t.data.retMsg||"操作成功！"):e.$Message.warning(t.data.retMsg||"操作失败！")}).catch(function(t){})},soldOut:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/acti/task/soldOut",method:"put",params:{taskId:t}}).then(function(t){0===t.data.retCode?(e.getTaskList(),e.$Message.success(t.data.retMsg||"操作成功！")):e.$Message.warning(t.data.retMsg||"操作失败！")}).catch(function(t){})},delTask:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/acti/task/del",method:"delete",params:{taskId:t}}).then(function(t){0===t.data.retCode?(e.getTaskList(),e.$Message.success(t.data.retMsg||"删除成功！")):e.$Message.warning(t.data.retMsg||"删除失败！")}).catch(function(t){})},pageChange:function(t){this.query.page=t-1,this.getTaskList()},statusChange:function(t){this.query.status=-1===t?"":t},search:function(){this.query.page=0,this.getTaskList(),this.current=1}}}},462:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-body"},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("Col",{attrs:{span:"4"}}),t._v(" "),a("Col",{staticClass:"cc-text-right",attrs:{span:"20"}},[a("Input",{staticClass:"cc-w-200",attrs:{placeholder:"任务标题"},model:{value:t.query.title,callback:function(e){t.$set(t.query,"title",e)},expression:"query.title"}}),t._v("\n            \n          状态：\n          "),a("Select",{staticClass:"cc-w-100 cc-text-left",on:{"on-change":t.statusChange}},[a("Option",{attrs:{value:-1}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:0}},[t._v("未领取")]),t._v(" "),a("Option",{attrs:{value:1}},[t._v("进行中")]),t._v(" "),a("Option",{attrs:{value:2}},[t._v("待确认")]),t._v(" "),a("Option",{attrs:{value:3}},[t._v("已完成")]),t._v(" "),a("Option",{attrs:{value:4}},[t._v("未完成")]),t._v(" "),a("Option",{attrs:{value:5}},[t._v("下架")])],1),t._v("\n            \n          "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("router-link",{attrs:{to:{name:"addTask"}}},[a("Button",{attrs:{type:"primary"}},[t._v("新增任务")])],1)],1)],1),t._v(" "),a("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:t.table,data:t.tableData}}),t._v(" "),a("Page",{staticClass:"cc-m-t-20",attrs:{total:t.total,current:t.current},on:{"update:current":function(e){t.current=e},"on-change":t.pageChange}})],1)},n=[];s._withStripped=!0;var r={render:s,staticRenderFns:n};e.default=r}});