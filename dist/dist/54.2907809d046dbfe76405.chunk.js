webpackJsonp([54],{245:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(341),o=r.n(a);for(var s in a)"default"!==s&&function(t){r.d(e,t,function(){return a[t]})}(s);var i=r(449),n=r.n(i),c=r(6),d=c(o.a,n.a,!1,null,null,null);d.options.__file="src/views/businessManagement/registrationAssessment.vue",e.default=d.exports},341:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{editModal:!1,examineModal:!1,modalIndex:0,remark:"",comTjProOrderId:"",query:{pageNo:0,pageSize:10,comProId:""},form:{comProId:"",type:"",proUser:"",recommUser:"",contactUser:"",grade:"",leftRight:""},gradeList:[],gradeList2:{},comProId:"",proList:[],total:0,current:1,table:[{title:"序号",type:"index",width:100,align:"center"},{title:"用户名",key:"userName"},{title:"联系方式",key:"phone"},{title:"项目用户名",key:"proUser"},{title:"左右区",key:"leftRight",render:function(t,e){var r="";switch(e.row.leftRight){case 0:r="左区";break;case 1:r="右区"}return t("div",[t("p",{},r)])}},{title:"推荐人ID",key:"recommUser"},{title:"接点人ID",key:"contactUser"},{title:"星级",key:"gradeName",render:function(e,r){return e("div",[e("p",{},t.gradeList2[r.row.grade])])}},{title:"状态",key:"state",render:function(t,e){var r="";switch(e.row.state){case 0:r="未审核";break;case 1:r="审核通过";break;case 2:r="审核不通过"}return t("div",[t("p",{},r)])}},{title:"提交时间",key:"createTime",render:function(e,r){return e("div",[e("p",{},t.formatDate(new Date(r.row.createTime),"yyyy-MM-dd hh:mm"))])}},{title:"审核时间",key:"verifyTime",render:function(e,r){return e("div",[e("p",{},t.formatDate(new Date(r.row.verifyTime),"yyyy-MM-dd hh:mm"))])}},{title:"备注",key:"remark"},{title:"操作",key:"action",width:300,align:"center",render:function(e,r){return e("div",[e("Button",{style:{marginRight:"5px"},on:{click:function(){t.examineModal=!0,t.modalIndex=r.index,t.comTjProOrderId=r.row.id}}},"审核"),e("Button",{style:{marginRight:"5px"},props:{disabled:1===r.row.state},on:{click:function(){t.edit(r.index)}}},"编辑"),e("Button",{props:{disabled:1===r.row.state},on:{click:function(){t.$Modal.confirm({title:"确认删除",content:"确认删除？",onOk:function(){t.del(r.row.id)}})}}},"删除")])}}],tableData:[]}},created:function(){this.getproList()},methods:{getproList:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProject/list",method:"get"}).then(function(e){0===e.data.retCode?(t.proList=e.data.data,t.comProId=e.data.data[0].comProId,t.query.comProId=t.comProId,t.getStar(),setTimeout(function(){t.getRegisterList()},200)):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},getRegisterList:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProOrder/page",method:"get",params:this.query}).then(function(e){0===e.data.retCode?(t.tableData=e.data.data.data,t.total=parseInt(e.data.data.total)):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},getStar:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/project/starGrades",method:"get",params:{comTjProId:this.comProId}}).then(function(e){0===e.data.retCode?(t.gradeList=e.data.data,t.gradeList.forEach(function(e){t.gradeList2[e.grade]=e.gradeName})):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},pageChange:function(t){this.query.pageNo=t-1,this.getRegisterList()},proChange:function(t){this.query.comProId=t,this.getRegisterList(),this.getStar()},toExamine:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProOrder/audit",method:"post",params:{status:t,comTjProOrderId:this.comTjProOrderId,remark:this.remark}}).then(function(t){0===t.data.retCode?(e.getRegisterList(),e.examineModal=!1,e.$Message.success(t.data.retMsg||"操作成功！")):e.$Message.warning(t.data.retMsg)}).catch(function(t){})},edit:function(t){this.editModal=!0,this.form.comProId=this.tableData[t].comProId,this.form.comTjProOderId=this.tableData[t].id,this.form.proUser=this.tableData[t].proUser,this.form.recommUser=this.tableData[t].recommUser,this.form.contactUser=this.tableData[t].contactUser,this.form.grade=this.tableData[t].grade,this.form.leftRight=this.tableData[t].leftRight.toString()},editConfirm:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProOrder/edit",method:"post",data:this.form}).then(function(e){0===e.data.retCode?(t.getRegisterList(),t.$Message.success(e.data.retMsg||"编辑成功！")):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},del:function(t){var e=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/comTjProOrder/delete",method:"get",params:{id:t}}).then(function(t){0===t.data.retCode?(e.getRegisterList(),e.$Message.success("删除成功！")):e.$Message.warning(t.data.retMsg)}).catch(function(t){})}}}},449:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-body"},[r("div",[r("span",[t._v("团队项目：")]),t._v(" "),r("Select",{staticClass:"cc-w-150",on:{"on-change":t.proChange},model:{value:t.comProId,callback:function(e){t.comProId=e},expression:"comProId"}},t._l(t.proList,function(e){return r("Option",{key:e.comProId,attrs:{value:e.comProId}},[t._v(t._s(e.projectName))])}))],1),t._v(" "),r("Table",{staticClass:"cc-m-t-20",attrs:{border:"",columns:t.table,data:t.tableData}}),t._v(" "),r("Page",{staticClass:"cc-m-t-20",attrs:{total:t.total,current:t.current},on:{"update:current":function(e){t.current=e},"on-change":t.pageChange}}),t._v(" "),r("Modal",{attrs:{title:"审核"},model:{value:t.examineModal,callback:function(e){t.examineModal=e},expression:"examineModal"}},[r("Form",{attrs:{"label-width":120}},[r("FormItem",{attrs:{label:"备注"}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),r("div",{staticClass:"cc-text-center",attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.toExamine(1)}}},[t._v("审核通过")]),t._v(" "),r("Button",{attrs:{type:"primary"},on:{click:function(e){t.toExamine(2)}}},[t._v("审核不通过")])],1)],1),t._v(" "),r("Modal",{attrs:{title:"编辑"},on:{"on-ok":t.editConfirm},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[r("Form",{ref:"form",attrs:{model:t.form,"label-width":120}},[r("FormItem",{attrs:{label:"项目用户名："}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:t.form.proUser,callback:function(e){t.$set(t.form,"proUser",e)},expression:"form.proUser"}})],1),t._v(" "),r("FormItem",{attrs:{label:"推荐人："}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:t.form.recommUser,callback:function(e){t.$set(t.form,"recommUser",e)},expression:"form.recommUser"}})],1),t._v(" "),r("FormItem",{attrs:{label:"接点人："}},[r("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:t.form.contactUser,callback:function(e){t.$set(t.form,"contactUser",e)},expression:"form.contactUser"}})],1),t._v(" "),r("FormItem",{attrs:{label:"注册星级："}},[r("Select",{staticClass:"cc-w-300",model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}},t._l(t.gradeList,function(e){return r("Option",{key:e.grade,attrs:{value:e.grade}},[t._v(t._s(e.gradeName))])}))],1),t._v(" "),r("FormItem",{attrs:{label:"位置选择："}},[r("Select",{staticClass:"cc-w-300",model:{value:t.form.leftRight,callback:function(e){t.$set(t.form,"leftRight",e)},expression:"form.leftRight"}},[r("Option",{attrs:{value:"0"}},[t._v("左区")]),t._v(" "),r("Option",{attrs:{value:"1"}},[t._v("右区")])],1)],1)],1)],1)],1)},o=[];a._withStripped=!0;var s={render:a,staticRenderFns:o};e.default=s}});