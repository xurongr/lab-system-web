webpackJsonp([21],{241:function(t,e,a){"use strict";function i(t){l||a(443)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(337),o=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a(445),d=a.n(r),l=!1,c=a(6),v=i,u=c(o.a,d.a,!1,v,"data-v-5d2ac37e",null);u.options.__file="src/views/teamManagement/inviteCodeManagement.vue",e.default=u.exports},337:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loading:!0,addModal:!1,inviteNum:"",total:0,info:{},inviteCodesColumns:[{title:"序号",type:"index",width:60,align:"center"},{title:"邀请码",key:"inviteCode"}],inviteCodes:[],inviteCodesData:[]}},created:function(){this.getInviteCode()},methods:{getInviteCode:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/app/invite/appinfo",method:"post"}).then(function(e){0===e.data.retCode?(t.info=e.data.data,t.inviteCodes=[],t.info.inviteCodes.forEach(function(e){var a={};a.inviteCode=e,t.inviteCodes.push(a)}),t.inviteCodesData=t.inviteCodes.slice(0,10),t.total=t.inviteCodes.length,t.loading=!1):(t.$Message.warning(e.data.retMsg),t.loading=!1)}).catch(function(t){})},addInviteCode:function(){var t=this;this.$http({url:this.serviceurl+"/weteam-service/mgt/company/invitecode/apply",method:"post",headers:{appKey:this.info.appKey},params:{inviteNum:this.inviteNum}}).then(function(e){0===e.data.retCode?(t.$Message.success(e.data.retMsg||"邀请码申请成功！"),t.getInviteCode()):t.$Message.warning(e.data.retMsg)}).catch(function(t){})},status:function(t){switch(t){case 1:return"启用";case 2:return"禁用"}},pageChange:function(t){this.inviteCodesData=this.inviteCodes.slice(10*(t-1),10*t)},exportData:function(){this.$refs.table.exportCsv({filename:"邀请码",columns:[{title:"邀请码",key:"inviteCode"}],data:this.inviteCodes})}}}},443:function(t,e,a){var i=a(444);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(14)("6ba514ce",i,!1,{})},444:function(t,e,a){e=t.exports=a(13)(!1),e.push([t.i,"\n.ivu-form-item[data-v-5d2ac37e] {\n  margin-bottom: 0 !important;\n}\n",""])},445:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-body"},[a("Card",[a("h3",[t._v("基本信息")]),t._v(" "),a("Form",{attrs:{"label-width":120}},[a("FormItem",{attrs:{label:"应用名称："}},[a("p",[t._v(t._s(t.info.appName))])]),t._v(" "),a("FormItem",{attrs:{label:"appKey："}},[a("p",[t._v(t._s(t.info.appKey))])]),t._v(" "),a("FormItem",{attrs:{label:"有效开始时间："}},[t.info.effStart?a("p",[t._v("\n          "+t._s(t.formatDate(new Date(t.info.effStart),"yyyy-MM-dd hh:mm"))+"\n        ")]):t._e()]),t._v(" "),a("FormItem",{attrs:{label:"有效结束时间："}},[t.info.effEnd?a("p",[t._v("\n          "+t._s(t.formatDate(new Date(t.info.effEnd),"yyyy-MM-dd hh:mm"))+"\n        ")]):t._e()]),t._v(" "),a("FormItem",{attrs:{label:"可用邀请码数量："}},[a("p",[t._v(t._s(t.info.inviteNumUseable))])]),t._v(" "),a("FormItem",{attrs:{label:"状态："}},[a("p",[t._v(t._s(t.status(t.info.status)))])])],1)],1),t._v(" "),a("Card",{staticClass:"cc-m-t-20"},[a("h3",[t._v("可用邀请码")]),t._v(" "),a("Table",{ref:"table",staticClass:"cc-m-t-10",attrs:{loading:t.loading,columns:t.inviteCodesColumns,data:t.inviteCodesData,width:"200"}}),t._v(" "),a("Page",{staticClass:"cc-m-t-10",attrs:{total:t.total},on:{"on-change":t.pageChange}}),t._v(" "),a("Button",{staticClass:"cc-m-t-10",attrs:{type:"primary"},on:{click:t.exportData}},[t._v("导出邀请码")]),t._v(" "),a("Button",{staticClass:"cc-m-t-10",attrs:{type:"primary"},on:{click:function(e){t.addModal=!0}}},[t._v("邀请码申请")])],1),t._v(" "),a("Modal",{attrs:{title:"邀请码申请"},on:{"on-ok":t.addInviteCode},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("Form",{attrs:{"label-width":80}},[a("FormItem",{attrs:{label:"申请数量"}},[a("Input",{staticClass:"cc-w-300",attrs:{placeholder:""},model:{value:t.inviteNum,callback:function(e){t.inviteNum=e},expression:"inviteNum"}})],1)],1)],1)],1)},n=[];i._withStripped=!0;var o={render:i,staticRenderFns:n};e.default=o}});